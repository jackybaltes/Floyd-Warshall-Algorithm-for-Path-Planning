<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <title>Floyd Warshall Algorithm for Path Planning</title>

        <link rel="stylesheet" href="css/reveal.css">
        <link rel="stylesheet" href="css/theme/ntnuerc.css">

        <!-- Theme used for syntax highlighting of code -->
        <link rel="stylesheet" href="lib/css/zenburn.css">
        <script src="https://daybrush.com/scenejs/release/latest/dist/scene.min.js"></script>
		
        <!-- Printing and PDF exports -->
        <script>
            var link = document.createElement( 'link' );
            link.rel = 'stylesheet';
            link.type = 'text/css';
            link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
            document.getElementsByTagName( 'head' )[0].appendChild( link );
        </script>
        <script src="js/ntnu.js"></script>
    </head>
    <body>
        <div class="reveal">
        <div class="slides">
            
<section id="start" data-state="start">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">

<div class="jb-output-code jb-render">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-output jb-render">

<h1>Floyd Warshall Algorithm for Path Planning</h1>

<p>
      Jacky Baltes<br>
      National Taiwan Normal University<br>
      Taipei, Taiwan<br>
      <a href="mailto:jacky.baltes@ntnu.edu.tw">jacky.baltes@ntnu.edu.tw</a><br>
</p>

15 October 2020
</div><!-- end of jb-output jb-render -->
</div><!-- end of jb-output-code jb-render -->


</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-e68e16c2-4d04-4960-89fb-c23608f5f3b4" ><span id="id-e68e16c2-4d04-4960-89fb-c23608f5f3b4"><img id="img-id-e68e16c2-4d04-4960-89fb-c23608f5f3b4"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-145f0a2c-f884-4a67-95fd-d947a96fa9a1" ><span id="id-145f0a2c-f884-4a67-95fd-d947a96fa9a1"><img id="img-id-145f0a2c-f884-4a67-95fd-d947a96fa9a1" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00003_frag_00001" data-state="slide_00003_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">

<div class="jb-output-code jb-render">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-output jb-render">

<h1>Floyd Warshall Path Planning Algorithm</h1>

<div class="jb-text">
<p>Floyd Warshall is an algorithm for find shortest path between any source and destination cell.</p>
<p>It is a nice example of dynamic programming</p>
<p>The algorithm uses the adjacency matrix and iterates over the set of intermediate cells to expand to a complete solution</p>
</div>    
</div><!-- end of jb-output jb-render -->
</div><!-- end of jb-output-code jb-render -->


</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-6f34c007-84f1-4d6c-8af0-5c7277e0b61b" ><span id="id-6f34c007-84f1-4d6c-8af0-5c7277e0b61b"><img id="img-id-6f34c007-84f1-4d6c-8af0-5c7277e0b61b"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-9ea69b14-cc52-4cc1-a5ad-3fff1402067e" ><span id="id-9ea69b14-cc52-4cc1-a5ad-3fff1402067e"><img id="img-id-9ea69b14-cc52-4cc1-a5ad-3fff1402067e" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00004_frag_00001" data-state="slide_00004_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">
<div class="jb-input jb-render jb-code" style="text-align:center">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-input-code jb-render">
<div style="font-size:0.5em"><!-- start of style="font-size:0.5em" -->
<div class="highlight" style="background: #f8f8f8; color:#101010;display=inline-block;"><pre style="line-height: 125%"><span></span><span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">matplotlib.pyplot</span> <span style="color: #008000; font-weight: bold">as</span> <span style="color: #0000FF; font-weight: bold">plt</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">matplotlib.path</span> <span style="color: #008000; font-weight: bold">as</span> <span style="color: #0000FF; font-weight: bold">mpath</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">matplotlib.patches</span> <span style="color: #008000; font-weight: bold">as</span> <span style="color: #0000FF; font-weight: bold">mpatches</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">numpy</span> <span style="color: #008000; font-weight: bold">as</span> <span style="color: #0000FF; font-weight: bold">np</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">random</span> 

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">createRandomEnvironment</span>( height, width, nObstacles, nRewards ):
  obstacles <span style="color: #666666">=</span> []
  <span style="color: #008000; font-weight: bold">while</span> (<span style="color: #008000">len</span>(obstacles) <span style="color: #666666">&lt;</span> nObstacles):
    ob <span style="color: #666666">=</span> ( random<span style="color: #666666">.</span>randint(<span style="color: #666666">0</span>,height<span style="color: #666666">-1</span>), random<span style="color: #666666">.</span>randint(<span style="color: #666666">0</span>,width<span style="color: #666666">-1</span>) )
    <span style="color: #008000; font-weight: bold">if</span> ob <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #AA22FF; font-weight: bold">in</span> obstacles:
      obstacles<span style="color: #666666">.</span>append( ob )

  rewardCoord <span style="color: #666666">=</span> []
  reward <span style="color: #666666">=</span> []

  <span style="color: #008000; font-weight: bold">while</span>( <span style="color: #008000">len</span>(rewardCoord) <span style="color: #666666">&lt;</span> nRewards ):
    rc <span style="color: #666666">=</span> ( random<span style="color: #666666">.</span>randint(<span style="color: #666666">0</span>,height<span style="color: #666666">-1</span>), random<span style="color: #666666">.</span>randint(<span style="color: #666666">0</span>,width<span style="color: #666666">-1</span>) )
    r <span style="color: #666666">=</span> random<span style="color: #666666">.</span>randint(<span style="color: #666666">-99</span>,<span style="color: #666666">99</span>)
    <span style="color: #008000; font-weight: bold">if</span> ( rc <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #AA22FF; font-weight: bold">in</span> rewardCoord ) <span style="color: #AA22FF; font-weight: bold">and</span> ( rc <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #AA22FF; font-weight: bold">in</span> obstacles ):
      rewardCoord<span style="color: #666666">.</span>append( rc )
      reward<span style="color: #666666">.</span>append(r) 
  
  <span style="color: #008000; font-weight: bold">return</span> (height, width, obstacles, [ x <span style="color: #008000; font-weight: bold">for</span> x <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">zip</span>(rewardCoord, reward) ] )
</pre></div>

</div><!-- end of style="font-size:0.5em" -->
</div><!-- end of jb-input-code jb-render -->

</div>

</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-cf9b6f3c-1c14-43a4-bdd6-e5bf7c875f5c" ><span id="id-cf9b6f3c-1c14-43a4-bdd6-e5bf7c875f5c"><img id="img-id-cf9b6f3c-1c14-43a4-bdd6-e5bf7c875f5c"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-95ec7cd5-9915-4e19-ae8f-1b3bdfdb0a6b" ><span id="id-95ec7cd5-9915-4e19-ae8f-1b3bdfdb0a6b"><img id="img-id-95ec7cd5-9915-4e19-ae8f-1b3bdfdb0a6b" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00005_frag_00001" data-state="slide_00005_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">
<div class="jb-input jb-render jb-code" style="text-align:center">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-input-code jb-render">
<div style="font-size:0.5em"><!-- start of style="font-size:0.5em" -->
<div class="highlight" style="background: #f8f8f8; color:#101010;display=inline-block;"><pre style="line-height: 125%"><span></span><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">drawEnvironment</span>( ax, env ):
  height, width, obstacles, rewards <span style="color: #666666">=</span> env
  ax<span style="color: #666666">.</span>set_axis_off()
  ax<span style="color: #666666">.</span>set_ylim( <span style="color: #666666">-0.5</span>, height <span style="color: #666666">+</span> <span style="color: #666666">1</span> )
  ax<span style="color: #666666">.</span>set_xlim( <span style="color: #666666">-0.5</span>, width <span style="color: #666666">+</span> <span style="color: #666666">1</span> )

  <span style="color: #008000; font-weight: bold">for</span> y <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #666666">0</span>,height):
    ax<span style="color: #666666">.</span>text(<span style="color: #666666">-0.5</span>, y <span style="color: #666666">+</span> <span style="color: #666666">0.3</span>, <span style="color: #008000">chr</span>( (<span style="color: #008000">ord</span>(<span style="color: #BA2121">&#39;A&#39;</span>) <span style="color: #666666">+</span> y ) ), fontsize<span style="color: #666666">=12</span> )

  <span style="color: #008000; font-weight: bold">for</span> x <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #666666">0</span>,width):
    ax<span style="color: #666666">.</span>text(x <span style="color: #666666">+</span> <span style="color: #666666">0.4</span>, height <span style="color: #666666">+</span> <span style="color: #666666">0.3</span>, <span style="color: #008000">str</span>(x), fontsize<span style="color: #666666">=12</span> )

  <span style="color: #008000; font-weight: bold">for</span> y <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #666666">0</span>,height):
    <span style="color: #008000; font-weight: bold">for</span> x <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #666666">0</span>,width):
      bg <span style="color: #666666">=</span> mpatches<span style="color: #666666">.</span>Rectangle( (x,y), <span style="color: #666666">1.0</span>, <span style="color: #666666">1.0</span>, linewidth<span style="color: #666666">=2</span>, color<span style="color: #666666">=</span><span style="color: #BA2121">&quot;white&quot;</span>, fill<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">True</span> )
      r <span style="color: #666666">=</span> mpatches<span style="color: #666666">.</span>Rectangle( (x,y), <span style="color: #666666">1.0</span>, <span style="color: #666666">1.0</span>, linewidth<span style="color: #666666">=2</span>, color<span style="color: #666666">=</span><span style="color: #BA2121">&quot;black&quot;</span>, fill<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">False</span> )
      ax<span style="color: #666666">.</span>add_patch(bg)
      ax<span style="color: #666666">.</span>add_patch(r)

  <span style="color: #008000; font-weight: bold">for</span> oy, ox <span style="color: #AA22FF; font-weight: bold">in</span> obstacles:
    bg <span style="color: #666666">=</span> mpatches<span style="color: #666666">.</span>Rectangle( (ox,oy), <span style="color: #666666">1.0</span>, <span style="color: #666666">1.0</span>, linewidth<span style="color: #666666">=2</span>, color<span style="color: #666666">=</span><span style="color: #BA2121">&quot;#2020a0&quot;</span>, fill<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">True</span> )
    r <span style="color: #666666">=</span> mpatches<span style="color: #666666">.</span>Rectangle( (x,y), <span style="color: #666666">1.0</span>, <span style="color: #666666">1.0</span>, linewidth<span style="color: #666666">=2</span>, color<span style="color: #666666">=</span><span style="color: #BA2121">&quot;black&quot;</span>, fill<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">False</span> )
    ax<span style="color: #666666">.</span>add_patch(bg)
    ax<span style="color: #666666">.</span>add_patch(r)
    
  <span style="color: #008000; font-weight: bold">for</span> rc, r <span style="color: #AA22FF; font-weight: bold">in</span> rewards:
    ry,rx <span style="color: #666666">=</span> rc
    <span style="color: #008000; font-weight: bold">if</span> r <span style="color: #666666">&gt;</span> <span style="color: #666666">0</span>:
      col <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;#c02020&#39;</span>
    <span style="color: #008000; font-weight: bold">elif</span> r <span style="color: #666666">&lt;</span> <span style="color: #666666">0</span>:
      col <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;#20c020&#39;</span>
    <span style="color: #008000; font-weight: bold">else</span>:
      col <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;#ffffff&#39;</span>

    bg <span style="color: #666666">=</span> mpatches<span style="color: #666666">.</span>Rectangle( (rx,ry), <span style="color: #666666">1.0</span>, <span style="color: #666666">1.0</span>, linewidth<span style="color: #666666">=2</span>, color<span style="color: #666666">=</span>col, fill<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">True</span> )
    rect <span style="color: #666666">=</span> mpatches<span style="color: #666666">.</span>Rectangle( (rx,ry), <span style="color: #666666">1.0</span>, <span style="color: #666666">1.0</span>, linewidth<span style="color: #666666">=2</span>, color<span style="color: #666666">=</span><span style="color: #BA2121">&quot;black&quot;</span>, fill<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">False</span> )
    ax<span style="color: #666666">.</span>add_patch(bg)
    ax<span style="color: #666666">.</span>add_patch(rect)
    ax<span style="color: #666666">.</span>text(rx<span style="color: #666666">+0.2</span>, ry <span style="color: #666666">+</span> <span style="color: #666666">0.3</span>, <span style="color: #008000">str</span>(r), fontsize<span style="color: #666666">=12</span>)
</pre></div>

</div><!-- end of style="font-size:0.5em" -->
</div><!-- end of jb-input-code jb-render -->

</div>

</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-cf3ca2fd-a25d-487a-814a-458e8cbd0bbf" ><span id="id-cf3ca2fd-a25d-487a-814a-458e8cbd0bbf"><img id="img-id-cf3ca2fd-a25d-487a-814a-458e8cbd0bbf"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-19bef3f6-8c70-4154-a117-e515ade5f7f8" ><span id="id-19bef3f6-8c70-4154-a117-e515ade5f7f8"><img id="img-id-19bef3f6-8c70-4154-a117-e515ade5f7f8" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00006_frag_00001" data-state="slide_00006_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">
<div class="jb-input jb-render jb-code" style="text-align:center">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-input-code jb-render">
<div style="font-size:0.5em"><!-- start of style="font-size:0.5em" -->
<div class="highlight" style="background: #f8f8f8; color:#101010;display=inline-block;"><pre style="line-height: 125%"><span></span>random<span style="color: #666666">.</span>seed(<span style="color: #666666">20201012</span>)
env <span style="color: #666666">=</span> createRandomEnvironment( <span style="color: #666666">3</span>, <span style="color: #666666">4</span>, <span style="color: #666666">3</span>, <span style="color: #666666">0</span> )
<span style="color: #008000">print</span>(env)

fig <span style="color: #666666">=</span> plt<span style="color: #666666">.</span>figure(dpi<span style="color: #666666">=144</span>)
ax <span style="color: #666666">=</span> fig<span style="color: #666666">.</span>add_subplot(<span style="color: #666666">1</span>,<span style="color: #666666">1</span>,<span style="color: #666666">1</span>)

drawEnvironment( ax, env )

grid1 <span style="color: #666666">=</span> addJBFigure(<span style="color: #BA2121">&quot;grid1&quot;</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, fig )
plt<span style="color: #666666">.</span>close()
</pre></div>

</div><!-- end of style="font-size:0.5em" -->
</div><!-- end of jb-input-code jb-render -->

</div>
<div class="jb-print jb-render">
<div style="font-size:0.5em"><!-- start of style="font-size:0.5em" -->
<div class="jb-output jb-render code" style="text-align:center">
<div class="jb-stdout code" style="display:inline-block; width:90%">
<pre style="font-size:0.5em">
(3, 4, [(1, 0), (0, 1), (2, 2)], [])
</pre>
</div>
</div>

</div><!-- end of style="font-size:0.5em" -->
</div><!-- end of jb-print jb-render -->

</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-71772f08-c045-40b3-8673-8289f4366855" ><span id="id-71772f08-c045-40b3-8673-8289f4366855"><img id="img-id-71772f08-c045-40b3-8673-8289f4366855"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-0a4a4d9a-ded5-49dc-919b-931be85a7322" ><span id="id-0a4a4d9a-ded5-49dc-919b-931be85a7322"><img id="img-id-0a4a4d9a-ded5-49dc-919b-931be85a7322" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00007_frag_00001" data-state="slide_00007_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">

<div class="jb-output-code jb-render">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-output jb-render">

<h1>A Sample Path Planning Domain</h1>

<span id="id-cb347fb6-13f8-4065-a13e-a0308728c090" ><span id="id-cb347fb6-13f8-4065-a13e-a0308728c090"><img id="img-id-cb347fb6-13f8-4065-a13e-a0308728c090"     src="assets/images/grid1.svg"/></span>
</span>


<div class="jb-text">
<p>Create adjacency matrix for this domain</p>
</div>
</div><!-- end of jb-output jb-render -->
</div><!-- end of jb-output-code jb-render -->


</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-1268e7a6-c911-448d-a218-bd7b2303e6b4" ><span id="id-1268e7a6-c911-448d-a218-bd7b2303e6b4"><img id="img-id-1268e7a6-c911-448d-a218-bd7b2303e6b4"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-1cb01d64-5265-4af4-a9d8-b72c94e797ae" ><span id="id-1cb01d64-5265-4af4-a9d8-b72c94e797ae"><img id="img-id-1cb01d64-5265-4af4-a9d8-b72c94e797ae" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00008_frag_00001" data-state="slide_00008_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">
<div class="jb-input jb-render jb-code" style="text-align:center">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-input-code jb-render">
<div class="highlight" style="background: #f8f8f8; color:#101010;display=inline-block;"><pre style="line-height: 125%"><span></span><span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">pprint</span>

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">indexToCoord</span>( cell, height, width ):
  y <span style="color: #666666">=</span> cell <span style="color: #666666">//</span> width
  x <span style="color: #666666">=</span> cell <span style="color: #666666">%</span> width
  <span style="color: #008000; font-weight: bold">return</span> (y,x)

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">coordToIndex</span>( coord, height, width ):
  y,x <span style="color: #666666">=</span> coord
  <span style="color: #008000; font-weight: bold">return</span> y <span style="color: #666666">*</span> width <span style="color: #666666">+</span> x

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">createAdjacencyMatrix</span>( env ):
  height, width, ob, rewards <span style="color: #666666">=</span> env
  
  adjTable <span style="color: #666666">=</span> []
  <span style="color: #008000; font-weight: bold">for</span> y <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(height<span style="color: #666666">*</span>width):
    row <span style="color: #666666">=</span> []
    <span style="color: #008000; font-weight: bold">for</span> x <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(height<span style="color: #666666">*</span>width):
      row<span style="color: #666666">.</span>append(<span style="color: #008000; font-weight: bold">None</span>)
    adjTable<span style="color: #666666">.</span>append(row)
  
  <span style="color: #008000; font-weight: bold">for</span> c <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(height<span style="color: #666666">*</span>width):
    y <span style="color: #666666">=</span> c <span style="color: #666666">//</span> width
    x <span style="color: #666666">=</span> c <span style="color: #666666">%</span> width 
    <span style="color: #008000; font-weight: bold">if</span> ( (y,x) <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #AA22FF; font-weight: bold">in</span> ob):
      adjTable[c][c] <span style="color: #666666">=</span> <span style="color: #666666">0.0</span>

  <span style="color: #008000; font-weight: bold">for</span> c <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(height<span style="color: #666666">*</span>width):
    y,x <span style="color: #666666">=</span> indexToCoord(c, height, width)

    <span style="color: #008000; font-weight: bold">if</span> ( (y,x) <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #AA22FF; font-weight: bold">in</span> ob):
      adjTable[c][c] <span style="color: #666666">=</span> <span style="color: #666666">0.0</span>

  <span style="color: #008000; font-weight: bold">for</span> cell <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(height<span style="color: #666666">*</span>width):
    y,x <span style="color: #666666">=</span> indexToCoord(cell, height, width)

    <span style="color: #008000; font-weight: bold">if</span> ( (y,x) <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #AA22FF; font-weight: bold">in</span> ob):
      <span style="color: #008000; font-weight: bold">for</span> dy, dx <span style="color: #AA22FF; font-weight: bold">in</span> [ [ <span style="color: #666666">+1</span>, <span style="color: #666666">0</span>], [<span style="color: #666666">-1</span>,<span style="color: #666666">0</span>], [<span style="color: #666666">0</span>,<span style="color: #666666">+1</span>], [<span style="color: #666666">0</span>,<span style="color: #666666">-1</span>] ]:
        ny <span style="color: #666666">=</span> y <span style="color: #666666">+</span> dy
        nx <span style="color: #666666">=</span> x <span style="color: #666666">+</span> dx

        <span style="color: #008000; font-weight: bold">if</span> ( ( ny <span style="color: #666666">&gt;=</span> <span style="color: #666666">0</span>) <span style="color: #AA22FF; font-weight: bold">and</span> ( ny <span style="color: #666666">&lt;</span> height ) <span style="color: #AA22FF; font-weight: bold">and</span> ( nx <span style="color: #666666">&gt;=</span> <span style="color: #666666">0</span>) <span style="color: #AA22FF; font-weight: bold">and</span> (nx <span style="color: #666666">&lt;</span> width) ):
          <span style="color: #008000; font-weight: bold">if</span> (ny,nx) <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #AA22FF; font-weight: bold">in</span> ob:
            cell2 <span style="color: #666666">=</span> coordToIndex((ny,nx), height, width)
            adjTable[cell][cell2] <span style="color: #666666">=</span> <span style="color: #666666">1</span>
            adjTable[cell2][cell] <span style="color: #666666">=</span> <span style="color: #666666">1</span>

  <span style="color: #008000; font-weight: bold">return</span> adjTable

adjTable <span style="color: #666666">=</span> createAdjacencyMatrix( env )
pprint<span style="color: #666666">.</span>pprint(adjTable)
</pre></div>

</div><!-- end of jb-input-code jb-render -->

</div>
<div class="jb-print jb-render">
<div class="jb-output jb-render code" style="text-align:center">
<div class="jb-stdout code" style="display:inline-block; width:90%">
<pre >
[[0.0, None, None, None, None, None, None, None, None, None, None, None],
 [None, None, None, None, None, None, None, None, None, None, None, None],
 [None, None, 0.0, 1, None, None, 1, None, None, None, None, None],
 [None, None, 1, 0.0, None, None, None, 1, None, None, None, None],
 [None, None, None, None, None, None, None, None, None, None, None, None],
 [None, None, None, None, None, 0.0, 1, None, None, 1, None, None],
 [None, None, 1, None, None, 1, 0.0, 1, None, None, None, None],
 [None, None, None, 1, None, None, 1, 0.0, None, None, None, 1],
 [None, None, None, None, None, None, None, None, 0.0, 1, None, None],
 [None, None, None, None, None, 1, None, None, 1, 0.0, None, None],
 [None, None, None, None, None, None, None, None, None, None, None, None],
 [None, None, None, None, None, None, None, 1, None, None, None, 0.0]]
</pre>
</div>
</div>

</div><!-- end of jb-print jb-render -->

</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-37339842-11dd-4c39-a67d-2d1096c7143e" ><span id="id-37339842-11dd-4c39-a67d-2d1096c7143e"><img id="img-id-37339842-11dd-4c39-a67d-2d1096c7143e"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-a07e9cc5-06df-44ff-b1a5-02791c4e116c" ><span id="id-a07e9cc5-06df-44ff-b1a5-02791c4e116c"><img id="img-id-a07e9cc5-06df-44ff-b1a5-02791c4e116c" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00009_frag_00001" data-state="slide_00009_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">
<div class="jb-input jb-render jb-code" style="text-align:center">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-input-code jb-render">
<div class="highlight" style="background: #f8f8f8; color:#101010;display=inline-block;"><pre style="line-height: 125%"><span></span><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">floydWarshall</span>( env ):
  adjTable <span style="color: #666666">=</span> createAdjacencyMatrix( env )
  height, width, obstacles, rewards <span style="color: #666666">=</span> env

  <span style="color: #008000; font-weight: bold">for</span> k <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(height<span style="color: #666666">*</span>width):
    <span style="color: #008000; font-weight: bold">for</span> i <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(height<span style="color: #666666">*</span>width):
      <span style="color: #008000; font-weight: bold">for</span> j <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(height<span style="color: #666666">*</span>width):
          m1 <span style="color: #666666">=</span> adjTable[i][j]

          <span style="color: #008000; font-weight: bold">if</span> ( adjTable[i][k] <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #008000; font-weight: bold">None</span> ) <span style="color: #AA22FF; font-weight: bold">and</span> ( adjTable[k][j] <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #008000; font-weight: bold">None</span> ):
            m2 <span style="color: #666666">=</span> adjTable[i][k] <span style="color: #666666">+</span> adjTable[k][j]
          <span style="color: #008000; font-weight: bold">else</span>:
            m2 <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">None</span>
            
          <span style="color: #008000; font-weight: bold">if</span> (m1 <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #008000; font-weight: bold">None</span>):
            <span style="color: #008000; font-weight: bold">if</span> (m2 <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #008000; font-weight: bold">None</span>):
              nv <span style="color: #666666">=</span> m1
            <span style="color: #008000; font-weight: bold">else</span>:
              nv <span style="color: #666666">=</span> <span style="color: #008000">min</span>(m1,m2)
          <span style="color: #008000; font-weight: bold">else</span>:
            nv <span style="color: #666666">=</span> m2 

          adjTable[i][j] <span style="color: #666666">=</span> nv
          adjTable[j][i] <span style="color: #666666">=</span> nv
  <span style="color: #008000; font-weight: bold">return</span> adjTable

sol <span style="color: #666666">=</span> floydWarshall( env )
pprint<span style="color: #666666">.</span>pprint(sol)
      
</pre></div>

</div><!-- end of jb-input-code jb-render -->

</div>
<div class="jb-print jb-render">
<div class="jb-output jb-render code" style="text-align:center">
<div class="jb-stdout code" style="display:inline-block; width:90%">
<pre >
[[0.0, None, None, None, None, None, None, None, None, None, None, None],
 [None, None, None, None, None, None, None, None, None, None, None, None],
 [None, None, 0.0, 1, None, 2, 1, 2, 4, 3, None, 3],
 [None, None, 1, 0.0, None, 3, 2, 1, 5, 4, None, 2],
 [None, None, None, None, None, None, None, None, None, None, None, None],
 [None, None, 2, 3, None, 0.0, 1, 2, 2, 1, None, 3],
 [None, None, 1, 2, None, 1, 0.0, 1, 3, 2, None, 2],
 [None, None, 2, 1, None, 2, 1, 0.0, 4, 3, None, 1],
 [None, None, 4, 5, None, 2, 3, 4, 0.0, 1, None, 5],
 [None, None, 3, 4, None, 1, 2, 3, 1, 0.0, None, 4],
 [None, None, None, None, None, None, None, None, None, None, None, None],
 [None, None, 3, 2, None, 3, 2, 1, 5, 4, None, 0.0]]
</pre>
</div>
</div>

</div><!-- end of jb-print jb-render -->

</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-9ebee210-529b-4ffb-b8e0-326d9538bdad" ><span id="id-9ebee210-529b-4ffb-b8e0-326d9538bdad"><img id="img-id-9ebee210-529b-4ffb-b8e0-326d9538bdad"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-a157a77a-cc93-4d04-a758-178a8210fe55" ><span id="id-a157a77a-cc93-4d04-a758-178a8210fe55"><img id="img-id-a157a77a-cc93-4d04-a758-178a8210fe55" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
        </div>
        </div>

        <script src="js/reveal.js"></script>

        <script>
            // More info about config & dependencies:
            // - https://github.com/hakimel/reveal.js#configuration
            // - https://github.com/hakimel/reveal.js#dependencies
            Reveal.initialize({
                math: {
                    mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
                    config: 'TeX-AMS_HTML-full',  // See http://docs.mathjax.org/en/latest/config-files.html
                    // tex2jax: {
                    //     inlineMath: [['$', '$'], ['\(', '\)']],
                    //     displayMath: [['$$', '$$'], ['\[', '\]']],
                    //     processEscapes: true,
                    //     processEnvironments: true,
                    //     skipTags: ['script', 'noscript', 'style', 'textarea', 'code', 'pre'],
                    //     displayAlign: 'center',
                    // }                
                },
                dependencies: [
                    { src: 'plugin/markdown/marked.js' },
                    { src: 'plugin/markdown/markdown.js' },
                    { src: 'plugin/notes/notes.js', async: true },
                    { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
                    { src: 'plugin/math/math.js', async: true }
                ]
            });
        </script>

        <script>
            <!-- Assets -->
var assets = {
"robbi" : new JBImage( "robbi", "12677", "162", "138", null, null, "assets/images/robbi", "png" ),
"logo" : new JBImage( "logo", "12033", "0", "0", null, null, "assets/images/logo", "png" ),
"fira-logo-1" : new JBImage( "fira-logo-1", "93836", "0", "0", null, null, "assets/images/FIRA-logo-1", "png" ),
"pairLogo" : new JBImage( "pairLogo", "63051", "0", "0", null, null, "assets/images/pairLogo", "png" ),
"grid1" : new JBImage( "grid1", "13581", "0", "0", null, null, "assets/images/grid1", "svg" ) 
};
var assetInstances = {
    "id-145f0a2c-f884-4a67-95fd-d947a96fa9a1": assets["robbi"],
    "id-9ea69b14-cc52-4cc1-a5ad-3fff1402067e": assets["robbi"],
    "id-95ec7cd5-9915-4e19-ae8f-1b3bdfdb0a6b": assets["robbi"],
    "id-19bef3f6-8c70-4154-a117-e515ade5f7f8": assets["robbi"],
    "id-0a4a4d9a-ded5-49dc-919b-931be85a7322": assets["robbi"],
    "id-1cb01d64-5265-4af4-a9d8-b72c94e797ae": assets["robbi"],
    "id-a07e9cc5-06df-44ff-b1a5-02791c4e116c": assets["robbi"],
    "id-a157a77a-cc93-4d04-a758-178a8210fe55": assets["robbi"],
    "id-e68e16c2-4d04-4960-89fb-c23608f5f3b4": assets["logo"],
    "id-6f34c007-84f1-4d6c-8af0-5c7277e0b61b": assets["logo"],
    "id-cf9b6f3c-1c14-43a4-bdd6-e5bf7c875f5c": assets["logo"],
    "id-cf3ca2fd-a25d-487a-814a-458e8cbd0bbf": assets["logo"],
    "id-71772f08-c045-40b3-8673-8289f4366855": assets["logo"],
    "id-1268e7a6-c911-448d-a218-bd7b2303e6b4": assets["logo"],
    "id-37339842-11dd-4c39-a67d-2d1096c7143e": assets["logo"],
    "id-9ebee210-529b-4ffb-b8e0-326d9538bdad": assets["logo"],
    "id-cb347fb6-13f8-4065-a13e-a0308728c090": assets["grid1"]
};
<!-- End of Assets -->

            convertURLs(assetInstances, "smart-path");
        </script>
        <script>
            <!-- Characters -->
var characters =
{};
<!-- End of Characters -->

        </script>
    </body>
</html>